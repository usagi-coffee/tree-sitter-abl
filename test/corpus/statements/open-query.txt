================================================================================
OPEN QUERY statement
================================================================================

OPEN QUERY qCust FOR EACH Customer NO-LOCK.
OPEN QUERY qCust FOR EACH Customer NO-LOCK BY Customer.Name.

--------------------------------------------------------------------------------

(source_code
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (by_phrase
      by: (qualified_name
        left: (identifier)
        right: (identifier)))))

================================================================================
OPEN QUERY - Reference snippet
================================================================================

DEFINE QUERY q-order FOR Customer, Order, OrderLine, Item.
OPEN QUERY q-order FOR EACH Customer,
  EACH Order OF Customer,
  EACH OrderLine OF Order,
  EACH Item OF OrderLine NO-LOCK.
GET FIRST q-order.
DO WHILE AVAILABLE Customer:
  DISPLAY Customer.CustNum Customer.Name SKIP
    Customer.Phone SKIP
    Order.OrderNum Order.OrderDate SKIP
    OrderLine.LineNum OrderLine.Price OrderLine.Qty SKIP
    Item.ItemNum Item.ItemName SKIP
    Item.CatDesc VIEW-AS EDITOR SIZE 50 BY 2 SCROLLBAR-VERTICAL
    WITH FRAME ord-info CENTERED SIDE-LABELS TITLE "Order Information".
  ASSIGN Item.CatDesc:READ-ONLY IN FRAME ord-info = TRUE
    Item.CatDesc:SENSITIVE IN FRAME ord-info = TRUE.
  PAUSE.
  GET NEXT q-order.
END.

OPEN QUERY qCust FOR EACH Customer BREAK BY Customer.State NO-LOCK.
OPEN QUERY qCust FOR EACH Customer NO-LOCK INDEXED-REPOSITION MAX-ROWS 10.
OPEN QUERY qCust PRESELECT EACH Customer NO-LOCK.
OPEN QUERY qCust FOR EACH Customer BY COLLATE(Customer.Name, "CASE-INSENSITIVE") DESCENDING.
OPEN QUERY qCust FOR EACH Customer WHERE Customer.CustNum > 0 USE-INDEX CustNum SHARE-LOCK.
OPEN QUERY qCust FOR EACH Customer EXCLUSIVE-LOCK.
OPEN QUERY qCust FOR EACH Customer, FIRST Order OF Customer NO-LOCK.
OPEN QUERY qCust FOR EACH Customer QUERY-TUNING(LOOKAHEAD CACHE-SIZE 5 SEPARATE-CONNECTION NO-SEPARATE-CONNECTION DEBUG SQL NO-DEBUG NO-JOIN-BY-SQLDB NO-LOOKAHEAD NO-INDEX-HINT).
OPEN QUERY qCust FOR EACH Customer QUERY-TUNING(JOIN-BY-SQLDB NO-BIND-WHERE) NO-LOCK INDEXED-REPOSITION MAX-ROWS 100.

--------------------------------------------------------------------------------

(source_code
  (query_definition
    name: (identifier)
    (query_table_list
      table: (identifier)
      table: (identifier)
      table: (identifier)
      table: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (record_phrase
      record: (identifier)
      of: (identifier))
    (record_phrase
      record: (identifier)
      of: (identifier))
    (record_phrase
      record: (identifier)
      of: (identifier)))
  (get_statement
    query: (identifier))
  (do_block
    (available_expression
      record: (identifier))
    (body
      (display_statement
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (format_phrase
          (editor_phrase
            width: (number_literal)
            height: (number_literal)))
        (frame_phrase
          frame: (identifier)
          (centered)
          (side_labels)
          title: (string_literal)))
      (assign_statement
        (assign_phrase
          (assign_pair
            left: (widget_qualified_name
              target: (object_access
                left: (qualified_name
                  left: (identifier)
                  right: (identifier))
                right: (identifier))
              widget: (identifier))
            right: (boolean_literal))
          (assign_pair
            left: (widget_qualified_name
              target: (object_access
                left: (qualified_name
                  left: (identifier)
                  right: (identifier))
                right: (identifier))
              widget: (identifier))
            right: (boolean_literal))))
      (pause_statement)
      (get_statement
        query: (identifier))))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (by_phrase
      by: (qualified_name
        left: (identifier)
        right: (identifier))))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    max_rows: (number_literal))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (by_phrase
      by: (function_call
        function: (identifier)
        (arguments
          (argument
            name: (qualified_name
              left: (identifier)
              right: (identifier)))
          (argument
            name: (string_literal))))))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier)
      where: (binary_expression
        (qualified_name
          left: (identifier)
          right: (identifier))
        (number_literal))
      index: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (record_phrase
      record: (identifier)
      of: (identifier)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (query_tuning
      (number_literal)))
  (open_query_statement
    query: (identifier)
    (record_phrase
      record: (identifier))
    (query_tuning)
    max_rows: (number_literal)))
