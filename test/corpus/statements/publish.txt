================================================================================
PUBLISH statement
================================================================================

PUBLISH "MyEvent".
PUBLISH "MyEvent" FROM hPublisher.

--------------------------------------------------------------------------------

(source_code
  (publish_statement
    event: (string_literal))
  (publish_statement
    event: (string_literal)
    publisher: (identifier)))

================================================================================
PUBLISH - reference snippets and parameters
================================================================================

DEFINE VARIABLE hPub AS HANDLE NO-UNDO.
DEFINE VARIABLE hSub1 AS HANDLE NO-UNDO.
DEFINE VARIABLE hSub2 AS HANDLE NO-UNDO.
DEFINE BUTTON bNewCust LABEL "New Customer".
DEFINE BUTTON bQuit LABEL "Quit".
RUN r-nepub.p PERSISTENT SET hPub.
RUN r-nesub1.p PERSISTENT SET hSub1 (hPub).
RUN r-nesub2.p PERSISTENT SET hSub2.
SUBSCRIBE PROCEDURE hSub2 TO "NewCustomer" IN hPub.
FORM bNewCust bQuit WITH FRAME x.
ENABLE ALL WITH FRAME x.
ON CHOOSE OF bNewCust RUN NewCust IN hPub.
WAIT-FOR CHOOSE OF bQuit OR WINDOW-CLOSE OF CURRENT-WINDOW.

PROCEDURE NewCust:
DEFINE VARIABLE name AS CHARACTER NO-UNDO INITIAL "Sam".
PUBLISH "NewCustomer" (INPUT name).
END PROCEDURE.

DEFINE INPUT PARAMETER hPub AS HANDLE NO-UNDO.
SUBSCRIBE TO "NewCustomer" IN hPub.
PROCEDURE NewCustomer:
DEFINE INPUT PARAMETER name AS CHARACTER NO-UNDO.
MESSAGE "Subscriber 1 received event NewCustomer concerning" name
VIEW-AS ALERT-BOX.
END.

PROCEDURE NewCustomer:
DEFINE INPUT PARAMETER name AS CHARACTER NO-UNDO.
MESSAGE "Subscriber 2 received event NewCustomer concerning" name
VIEW-AS ALERT-BOX.
UNSUBSCRIBE TO ALL.
END.

PUBLISH cEventName FROM hPublisher (INPUT p1, INPUT-OUTPUT p2, OUTPUT p3).

--------------------------------------------------------------------------------

(source_code
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (button_definition
    (identifier)
    (button_option
      (string_literal)))
  (button_definition
    (identifier)
    (button_option
      (string_literal)))
  (run_statement
    (procedure_name)
    (persistent_option
      (identifier)))
  (run_statement
    (procedure_name)
    (persistent_option
      (identifier))
    (arguments
      (argument
        (identifier))))
  (run_statement
    (procedure_name)
    (persistent_option
      (identifier)))
  (subscribe_statement
    (identifier)
    (string_literal)
    (identifier))
  (form_statement
    (form_item
      (identifier))
    (form_item
      (identifier))
    (frame_phrase
      (identifier)))
  (enable_statement
    (frame_phrase
      (identifier)))
  (on_statement
    (identifier)
    (widget_phrase
      (identifier))
    (run_statement
      (identifier)
      (in_phrase
        (identifier))))
  (wait_for_statement
    (identifier)
    (widget_phrase
      (identifier))
    (identifier)
    (widget_phrase
      (system_handle)))
  (procedure_definition
    (identifier)
    (body
      (variable_definition
        (identifier)
        (identifier)
        (no_undo)
        (initial_option
          (string_literal)))
      (publish_statement
        (string_literal)
        (arguments
          (argument
            (identifier))))))
  (parameter_definition
    (identifier)
    (identifier)
    (no_undo))
  (subscribe_statement
    (string_literal)
    (identifier))
  (procedure_definition
    (identifier)
    (body
      (parameter_definition
        (identifier)
        (identifier)
        (no_undo))
      (message_statement
        (string_literal)
        (identifier)
        (view_as_phrase))))
  (procedure_definition
    (identifier)
    (body
      (parameter_definition
        (identifier)
        (identifier)
        (no_undo))
      (message_statement
        (string_literal)
        (identifier)
        (view_as_phrase))
      (unsubscribe_statement)))
  (publish_statement
    (identifier)
    (function_call
      (identifier)
      (arguments
        (argument
          (identifier))
        (argument
          (identifier))
        (argument
          (identifier))))))
