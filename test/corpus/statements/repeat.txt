================================================================================
REPEAT
================================================================================

REPEAT:
  DISPLAY x.
END.

REPEAT WHILE x < 5:
  x = x + 1.
END.

REPEAT UNTIL done:
  DISPLAY done.
END.

main: REPEAT ON STOP UNDO, RETURN ERROR NEW Progress.Lang.AppError("x", 1) ON ERROR UNDO, THROW:
  LEAVE.
END.

--------------------------------------------------------------------------------

(source_code
  (repeat_statement
    (body
      (display_statement
        (identifier))))
  (repeat_statement
    (binary_expression
      (identifier)
      (number_literal))
    (body
      (assignment_statement
        left: (identifier)
        operator: (assignment_operator)
        right: (binary_expression
          (identifier)
          (number_literal)))))
  (repeat_statement
    (identifier)
    (body
      (display_statement
        (identifier))))
  (repeat_statement
    label: (identifier)
    (on_stop_phrase
      (undo_return_error
        (new_expression
          type: (qualified_name
            left: (identifier)
            right: (identifier)
            right: (identifier))
          (argument_list
            (argument
              value: (string_literal))
            (argument
              value: (number_literal))))))
    (on_error_phrase
      (undo_throw_phrase))
    (body
      (leave_statement))))
