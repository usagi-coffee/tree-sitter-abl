================================================================================
ACCUMULATE
================================================================================

FOR EACH Customer NO-LOCK:
  ACCUMULATE Customer.CreditLimit (AVERAGE COUNT MAXIMUM).
END.

FOR EACH Customer NO-LOCK:
  DISPLAY Customer.CustNum
          Customer.Name (COUNT MAXIMUM MINIMUM)
          Customer.Balance (TOTAL MAXIMUM MINIMUM AVERAGE).
END.

FOR EACH Customer NO-LOCK BREAK BY Customer.SalesRep BY Customer.Country:
  ACCUMULATE Customer.Balance (TOTAL BY Customer.SalesRep BY Customer.Country).
END.

FOR EACH Item NO-LOCK:
  ACCUMULATE Item.OnHand * Item.Price (SUB-TOTAL SUB-COUNT SUB-AVERAGE).
END.

FOR EACH Order NO-LOCK:
  ACCUMULATE Order.Total (TOTAL) Order.OrderDate (COUNT).
END.

FOR EACH Customer NO-LOCK BREAK BY Customer.Country:
  ACCUMULATE Customer.Balance (TOTAL BY Customer.Country)
             Customer.CreditLimit (MAXIMUM).
END.

--------------------------------------------------------------------------------

(source_code
  (for_statement
    (record
      (record
        record: (identifier)))
    (body
      (accumulate_statement
        (accumulate
          target: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation)))))))
  (for_statement
    (record
      (record
        record: (identifier)))
    (body
      (display_statement
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier)))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))))
        (field
          field: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation)))))))
  (for_statement
    (record
      (record
        record: (identifier))
      (break_by
        (qualified_name
          left: (identifier)
          right: (identifier))
        (qualified_name
          left: (identifier)
          right: (identifier))))
    (body
      (accumulate_statement
        (accumulate
          target: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation)
              (by_phrase
                group: (qualified_name
                  left: (identifier)
                  right: (identifier)))
              (by_phrase
                group: (qualified_name
                  left: (identifier)
                  right: (identifier)))))))))
  (for_statement
    (record
      (record
        record: (identifier)))
    (body
      (accumulate_statement
        (accumulate
          target: (binary_expression
            (qualified_name
              left: (identifier)
              right: (identifier))
            (qualified_name
              left: (identifier)
              right: (identifier)))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation))
            (aggregate_option
              operation: (aggregate_operation)))))))
  (for_statement
    (record
      (record
        record: (identifier)))
    (body
      (accumulate_statement
        (accumulate
          target: (binary_expression
            (function_call
              function: (qualified_name
                left: (identifier)
                right: (identifier))
              (arguments
                (argument
                  name: (identifier))))
            (qualified_name
              left: (identifier)
              right: (identifier)))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation)))))))
  (for_statement
    (record
      (record
        record: (identifier))
      (break_by
        (qualified_name
          left: (identifier)
          right: (identifier))))
    (body
      (accumulate_statement
        (accumulate
          target: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation)
              (by_phrase
                group: (qualified_name
                  left: (identifier)
                  right: (identifier))))))
        (accumulate
          target: (qualified_name
            left: (identifier)
            right: (identifier))
          (aggregate_phrase
            (aggregate_option
              operation: (aggregate_operation))))))))
