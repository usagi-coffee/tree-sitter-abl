================================================================================
IF
================================================================================

IF par_kontakt = '' THEN DO:
  UNDO, THROW NEW Progress.Lang.AppError("msg", 400).
END.
ELSE DO:
  ASSIGN par_kontakt = "x".
END.

IF NOT AVAIL(Debtor) THEN UNDO, THROW NEW Progress.Lang.AppError("missing", 400).

IF NOT CAN-FIND(FIRST Contact WHERE Contact.Address_ID = Address.Address_ID) THEN DO:
  DISPLAY Contact.ContactName.
END.

IF CAN-FIND(LAST Activity WHERE Activity.Activity_ID = 10) THEN DO:
  DISPLAY Activity.Activity_ID.
END.

IF CAN-FIND(FIRST LogTable WHERE LogTable.Log_ID = 10 USE-INDEX log_idx) THEN DO:
  DISPLAY LogTable.Log_ID.
END.

IF hasFlag THEN DO:
  DISPLAY hasFlag.
END.
/* bridge */
ELSE IF otherFlag THEN DISPLAY otherFlag.

IF skip THEN .

IF AVAILABLE Customer THEN .
IF AVAIL (Customer) THEN .
IF LOCKED bufOrder THEN RETURN TRUE.

--------------------------------------------------------------------------------

(source_code
  (if_statement
    (binary_expression
      (identifier)
      (string_literal))
    then: (do_block
      (body
        (undo_statement
          value: (new_expression
            type: (qualified_name
              left: (identifier)
              right: (identifier)
              right: (identifier))
            (arguments
              (argument
                value: (string_literal))
              (argument
                value: (number_literal)))))))
    else: (do_block
      (body
        (assign_statement
          (assign_pair
            left: (identifier)
            right: (string_literal))))))
  (if_statement
    (unary_expression
      (available_expression
        record: (identifier)))
    then: (undo_statement
      value: (new_expression
        type: (qualified_name
          left: (identifier)
          right: (identifier)
          right: (identifier))
        (arguments
          (argument
            value: (string_literal))
          (argument
            value: (number_literal))))))
  (if_statement
    (unary_expression
      (can_find_expression
        (record_query
          table: (identifier)
          (where_phrase
            (binary_expression
              (qualified_name
                left: (identifier)
                right: (identifier))
              (qualified_name
                left: (identifier)
                right: (identifier)))))))
    then: (do_block
      (body
        (display_statement
          (qualified_name
            left: (identifier)
            right: (identifier))))))
  (if_statement
    (can_find_expression
      (record_query
        table: (identifier)
        (where_phrase
          (binary_expression
            (qualified_name
              left: (identifier)
              right: (identifier))
            (number_literal)))))
    then: (do_block
      (body
        (display_statement
          (qualified_name
            left: (identifier)
            right: (identifier))))))
  (if_statement
    (can_find_expression
      (record_query
        table: (identifier)
        (where_phrase
          (binary_expression
            (qualified_name
              left: (identifier)
              right: (identifier))
            (number_literal)))
        (use_index
          index: (identifier))))
    then: (do_block
      (body
        (display_statement
          (qualified_name
            left: (identifier)
            right: (identifier))))))
  (if_statement
    (identifier)
    then: (do_block
      (body
        (display_statement
          (identifier))))
    (comment
      (block_comment))
    else: (if_statement
      (identifier)
      then: (display_statement
        (identifier))))
  (if_statement
    (identifier)
    then: (empty_statement))
  (if_statement
    (available_expression
      record: (identifier))
    then: (empty_statement))
  (if_statement
    (available_expression
      record: (identifier))
    then: (empty_statement))
  (if_statement
    (locked_expression
      record: (identifier))
    then: (return_statement
      (boolean_literal))))

================================================================================
IF - Inline THEN/ELSE
================================================================================

IF x > 10 THEN x = 10.
ELSE IF x > 20 THEN x = 20.
ELSE x = x.

IF x > 10 THEN x = 10.
ELSE DO:
  x = 20.
END.

--------------------------------------------------------------------------------

(source_code
  (if_statement
    (binary_expression
      (identifier)
      (number_literal))
    then: (assignment_statement
      left: (identifier)
      operator: (assignment_operator)
      right: (number_literal))
    else: (if_statement
      (binary_expression
        (identifier)
        (number_literal))
      then: (assignment_statement
        left: (identifier)
        operator: (assignment_operator)
        right: (number_literal))
      else: (assignment_statement
        left: (identifier)
        operator: (assignment_operator)
        right: (identifier))))
  (if_statement
    (binary_expression
      (identifier)
      (number_literal))
    then: (assignment_statement
      left: (identifier)
      operator: (assignment_operator)
      right: (number_literal))
    else: (do_block
      (body
        (assignment_statement
          left: (identifier)
          operator: (assignment_operator)
          right: (number_literal))))))

================================================================================
IF - Reference snippet
================================================================================

DEFINE VARIABLE ans AS LOGICAL NO-UNDO.
DEFINE STREAM due.
OUTPUT STREAM due TO ovrdue.lst.
DISPLAY STREAM due
  "Orders shipped but still unpaid as of" TODAY SKIP(2)
  WITH NO-BOX NO-LABELS CENTERED FRAME hdr PAGE-TOP.
FOR EACH Order WITH FRAME oinfo:
  FIND Customer OF Order NO-LOCK.
  DISPLAY Order.OrderNum Customer.Name Order.OrderDate Order.PromiseDate
    Order.ShipDate.
  IF Order.ShipDate = ? THEN DO:
    IF Order.PromiseDate = ? THEN DO:
      MESSAGE "Please update the promise date.".
      REPEAT WHILE promise-date = ?:
        UPDATE Order.PromiseDate WITH FRAME oinfo.
      END.
    END.
    ans = FALSE.
    MESSAGE "Has this order been shipped?" UPDATE ans.
    IF ans THEN
      REPEAT WHILE Order.ShipDate = ?:
        UPDATE Order.ShipDate WITH FRAME oinfo.
      END.
  END.
  ELSE DO:
    ans = TRUE.
    MESSAGE "Has this order been paid?" UPDATE ans.
    IF NOT ans THEN DO:
      DISPLAY STREAM due Order.OrderNum TO 14 Customer.Name AT 18
        Order.OrderDate AT 42 Order.ShipDate AT 54
        WITH NO-BOX DOWN FRAME unpaid.
    END.
  END.
END.
OUTPUT STREAM due CLOSE.

--------------------------------------------------------------------------------

(source_code
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (stream_definition
    (identifier))
  (output_statement
    (stream_phrase
      (identifier))
    (qualified_name
      (identifier)
      (identifier)))
  (display_statement
    (stream_phrase
      (identifier))
    (string_literal)
    (identifier)
    (skip_phrase
      (number_literal))
    (frame_phrase
      (frame_option)
      (frame_option)
      (frame_option)
      (identifier)
      (frame_option)))
  (for_each_statement
    (record
      (identifier))
    (frame_phrase
      (identifier))
    (body
      (find_statement
        (identifier)
        (of_phrase
          (identifier))
        (no_lock))
      (display_statement
        (qualified_name
          (identifier)
          (identifier))
        (qualified_name
          (identifier)
          (identifier))
        (qualified_name
          (identifier)
          (identifier))
        (qualified_name
          (identifier)
          (identifier))
        (qualified_name
          (identifier)
          (identifier)))
      (if_statement
        (binary_expression
          (qualified_name
            (identifier)
            (identifier))
          (null_literal))
        (do_block
          (body
            (if_statement
              (binary_expression
                (qualified_name
                  (identifier)
                  (identifier))
                (null_literal))
              (do_block
                (body
                  (message_statement
                    (string_literal))
                  (repeat_statement
                    (binary_expression
                      (identifier)
                      (null_literal))
                    (body
                      (update_statement
                        (qualified_name
                          (identifier)
                          (identifier))
                        (frame_phrase
                          (identifier))))))))
            (assignment_statement
              (identifier)
              (assignment_operator)
              (boolean_literal))
            (message_statement
              (string_literal)
              (set_update_phrase
                (identifier)))
            (if_statement
              (identifier)
              (repeat_statement
                (binary_expression
                  (qualified_name
                    (identifier)
                    (identifier))
                  (null_literal))
                (body
                  (update_statement
                    (qualified_name
                      (identifier)
                      (identifier))
                    (frame_phrase
                      (identifier))))))))
        (do_block
          (body
            (assignment_statement
              (identifier)
              (assignment_operator)
              (boolean_literal))
            (message_statement
              (string_literal)
              (set_update_phrase
                (identifier)))
            (if_statement
              (unary_expression
                (identifier))
              (do_block
                (body
                  (display_statement
                    (stream_phrase
                      (identifier))
                    (qualified_name
                      (identifier)
                      (identifier))
                    (identifier)
                    (number_literal)
                    (qualified_name
                      (identifier)
                      (identifier))
                    (identifier)
                    (number_literal)
                    (qualified_name
                      (identifier)
                      (identifier))
                    (identifier)
                    (number_literal)
                    (qualified_name
                      (identifier)
                      (identifier))
                    (identifier)
                    (number_literal)
                    (frame_phrase
                      (frame_option)
                      (frame_option)
                      (identifier)))))))))))
  (output_statement
    (stream_phrase
      (identifier))))
