================================================================================
STREAM DEFINITION - Basic Syntax
================================================================================

DEFINE STREAM outStream.
DEF STREAM debugStream.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    name: (identifier))
  (stream_definition
    name: (identifier)))

================================================================================
STREAM DEFINITION - NEW SHARED
================================================================================

DEFINE NEW SHARED STREAM sShared.
DEF NEW SHARED STREAM sGlobal.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    (new_modifier)
    (scope_modifier)
    name: (identifier))
  (stream_definition
    (new_modifier)
    (scope_modifier)
    name: (identifier)))

================================================================================
STREAM DEFINITION - SHARED
================================================================================

DEFINE SHARED STREAM sCust.
DEF SHARED STREAM sOrder.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    (scope_modifier)
    name: (identifier))
  (stream_definition
    (scope_modifier)
    name: (identifier)))

================================================================================
STREAM DEFINITION - NEW GLOBAL SHARED
================================================================================

DEFINE NEW GLOBAL SHARED STREAM sGlobalShared.
DEF NEW GLOBAL SHARED STREAM sPersistent.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    (new_modifier)
    (scope_modifier)
    (scope_modifier)
    name: (identifier))
  (stream_definition
    (new_modifier)
    (scope_modifier)
    (scope_modifier)
    name: (identifier)))

================================================================================
STREAM DEFINITION - PRIVATE
================================================================================

DEFINE PRIVATE STREAM privStream.
DEF PRIVATE STREAM classStream.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    (access_modifier)
    name: (identifier))
  (stream_definition
    (access_modifier)
    name: (identifier)))

================================================================================
STREAM DEFINITION - Short Names
================================================================================

DEF STREAM s.
DEFINE STREAM log.
DEFINE NEW SHARED STREAM db.
DEFINE PRIVATE STREAM out.

--------------------------------------------------------------------------------

(source_code
  (stream_definition
    name: (identifier))
  (stream_definition
    name: (identifier))
  (stream_definition
    (new_modifier)
    (scope_modifier)
    name: (identifier))
  (stream_definition
    (access_modifier)
    name: (identifier)))

================================================================================
STREAM DEFINITION - reference snippet
================================================================================

DEFINE VARIABLE fnr AS CHARACTER NO-UNDO FORMAT "x(12)".
DEFINE VARIABLE fne AS CHARACTER NO-UNDO FORMAT "x(12)".
DEFINE VARIABLE excount AS INTEGER NO-UNDO LABEL "Total Number of exceptions".
DEFINE NEW SHARED BUFFER xitem FOR item.
DEFINE NEW SHARED STREAM rpt.
DEFINE STREAM exceptions.
SET fnr LABEL "Enter filename for report output" SKIP(1)
fne LABEL "Enter filename for exception output"
WITH SIDE-LABELS FRAME fnames.
OUTPUT STREAM rpt TO VALUE(fnr) PAGED.
OUTPUT STREAM exceptions TO VALUE(fne) PAGED.
FOR EACH xitem:
IF on-hand < alloc THEN DO:
DISPLAY STREAM exceptions
xitem.ItemNum xitem.ItemName xitem.OnHand xitem.Allocated
WITH FRAME exitem DOWN.
excount = excount + 1.
END.
RUN r-dfstr2.p.
END.
DISPLAY STREAM exceptions SKIP(1) excount WITH FRAME exc SIDE-LABELS.
DISPLAY STREAM rpt WITH FRAME exc.
OUTPUT STREAM rpt CLOSE.
OUTPUT STREAM exceptions CLOSE.

DEFINE SHARED STREAM rpt.
DEFINE SHARED BUFFER xitem FOR Item.
DISPLAY STREAM rpt ItemNum ItemName WITH NO-LABELS NO-BOX.

--------------------------------------------------------------------------------

(source_code
  (variable_definition
    (identifier)
    (identifier)
    (no_undo)
    (format_phrase
      (string_literal)))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo)
    (format_phrase
      (string_literal)))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo)
    (label_option
      (string_literal)))
  (buffer_definition
    (new_modifier)
    (scope_modifier)
    (identifier)
    (identifier))
  (stream_definition
    (new_modifier)
    (scope_modifier)
    (identifier))
  (stream_definition
    (identifier))
  (set_statement
    (field
      (identifier)
      (label_option
        (string_literal)))
    (field
      (number_literal))
    (field
      (identifier)
      (label_option
        (string_literal)))
    (frame_phrase
      (side_labels)
      (identifier)))
  (output_statement
    (stream_phrase
      (identifier))
    (identifier))
  (output_statement
    (stream_phrase
      (identifier))
    (identifier))
  (for_statement
    (record
      (identifier))
    (body
      (if_statement
        (binary_expression
          (identifier)
          (identifier))
        (do_block
          (body
            (display_statement
              (stream_phrase
                (identifier))
              (field
                (qualified_name
                  (identifier)
                  (identifier)))
              (field
                (qualified_name
                  (identifier)
                  (identifier)))
              (field
                (qualified_name
                  (identifier)
                  (identifier)))
              (field
                (qualified_name
                  (identifier)
                  (identifier)))
              (frame_phrase
                (identifier)
                (down)))
            (assignment_statement
              (identifier)
              (assignment_operator)
              (binary_expression
                (identifier)
                (number_literal))))))
      (run_statement
        (procedure_name))))
  (display_statement
    (stream_phrase
      (identifier))
    (skip_phrase
      (number_literal))
    (field
      (identifier))
    (frame_phrase
      (identifier)
      (side_labels)))
  (display_statement
    (stream_phrase
      (identifier))
    (frame_phrase
      (identifier)))
  (output_statement
    (stream_phrase
      (identifier)))
  (output_statement
    (stream_phrase
      (identifier)))
  (stream_definition
    (scope_modifier)
    (identifier))
  (buffer_definition
    (scope_modifier)
    (identifier)
    (identifier))
  (display_statement
    (stream_phrase
      (identifier))
    (field
      (identifier))
    (field
      (identifier))
    (frame_phrase
      (no_labels)
      (no_box))))
