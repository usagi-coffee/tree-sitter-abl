================================================================================
OVERLAY
================================================================================

OVERLAY(cTarget, 1) = "X".
OVERLAY(cString, 5, 3) = "ABC".
OVERLAY(cData, 1, 10, CHARACTER) = cValue.
OVERLAY(mBuffer, 5, 4, RAW) = mSource.
OVERLAY(cLine, iPos, iLen, COLUMN) = "Hello".

--------------------------------------------------------------------------------

(source_code
  (overlay_statement
    target: (identifier)
    position: (number_literal)
    value: (string_literal))
  (overlay_statement
    target: (identifier)
    position: (number_literal)
    length: (number_literal)
    value: (string_literal))
  (overlay_statement
    target: (identifier)
    position: (number_literal)
    length: (number_literal)
    type: (identifier)
    value: (identifier))
  (overlay_statement
    target: (identifier)
    position: (number_literal)
    length: (number_literal)
    type: (identifier)
    value: (identifier))
  (overlay_statement
    target: (identifier)
    position: (identifier)
    length: (identifier)
    type: (identifier)
    value: (string_literal)))

================================================================================
OVERLAY - reference snippets and variants
================================================================================

DEFINE VARIABLE chktext AS CHARACTER NO-UNDO.
DEFINE VARIABLE ix AS INTEGER NO-UNDO.
DEFINE VARIABLE chkndx AS INTEGER NO-UNDO.
DEFINE VARIABLE ndx AS INTEGER NO-UNDO.
DEFINE VARIABLE old-text AS CHARACTER NO-UNDO.
DEFINE VARIABLE new-text AS CHARACTER NO-UNDO.
DEFINE VARIABLE max-len AS INTEGER NO-UNDO.
DEFINE VARIABLE comment AS CHARACTER NO-UNDO FORMAT "x(49)" EXTENT 5
INITIAL ["You are probably interested in OpenEdge because",
"you have a lot of information to organize. You",
"want to get at the information, add to it, and",
"change it, without a lot of work and aggravation.",
"You made the right choice with OpenEdge." ].
DISPLAY comment WITH CENTERED FRAME comm NO-LABELS
TITLE "Why You Chose OpenEdge" ROW 4.
REPEAT:
SET old-text LABEL "Enter text to search for"
new-text LABEL "Enter text to replace with"
WITH FRAME replace SIDE-LABELS CENTERED.
max-len = MAXIMUM(LENGTH(old-text), LENGTH(new-text)).
DO ix = 1 TO 5:
ndx = 1.
DO ndx = 1 TO LENGTH(comment[ix]):
chktext = SUBSTRING(comment[ix], ndx).
chkndx = INDEX(chktext, old-text).
IF chkndx <> 0 THEN DO:
ndx = ndx + chkndx - 1.
OVERLAY(comment[ix], ndx, max-len, "CHARACTER") = new-text.
ndx = max-len.
END.
END.
DISPLAY comment[ix] WITH FRAME comm.
END.
END.

OVERLAY(cLine, 3, -1, "RAW") = cNew.
OVERLAY(cLong, 1, 5, "COLUMN") = "Hi".

--------------------------------------------------------------------------------

(source_code
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo))
  (variable_definition
    (identifier)
    (identifier)
    (no_undo)
    (format_option
      (string_literal))
    (extent_phrase
      (number_literal))
    (initial_option
      (string_literal)
      (string_literal)
      (string_literal)
      (string_literal)
      (string_literal)))
  (display_statement
    (identifier)
    (frame_phrase
      (identifier)
      (string_literal)
      (number_literal)))
  (repeat_statement
    (body
      (set_statement
        (set_item
          (identifier)
          (format_phrase
            (label_option
              (string_literal))))
        (set_item
          (identifier)
          (format_phrase
            (label_option
              (string_literal))))
        (frame_phrase
          (identifier)
          (frame_option)
          (frame_option)))
      (assignment_statement
        (identifier)
        (assignment_operator)
        (function_call
          (identifier)
          (arguments
            (argument
              (function_call
                (identifier)
                (arguments
                  (argument
                    (identifier)))))
            (argument
              (function_call
                (identifier)
                (arguments
                  (argument
                    (identifier))))))))
      (do_block
        (identifier)
        (number_literal)
        (number_literal)
        (body
          (assignment_statement
            (identifier)
            (assignment_operator)
            (number_literal))
          (do_block
            (identifier)
            (number_literal)
            (function_call
              (identifier)
              (arguments
                (argument
                  (array_access
                    (identifier)
                    (identifier)))))
            (body
              (assignment_statement
                (identifier)
                (assignment_operator)
                (function_call
                  (identifier)
                  (arguments
                    (argument
                      (array_access
                        (identifier)
                        (identifier)))
                    (argument
                      (identifier)))))
              (assignment_statement
                (identifier)
                (assignment_operator)
                (function_call
                  (identifier)
                  (arguments
                    (argument
                      (identifier))
                    (argument
                      (identifier)))))
              (if_statement
                (binary_expression
                  (identifier)
                  (number_literal))
                (do_block
                  (body
                    (assignment_statement
                      (identifier)
                      (assignment_operator)
                      (binary_expression
                        (binary_expression
                          (identifier)
                          (identifier))
                        (number_literal)))
                    (overlay_statement
                      (array_access
                        (identifier)
                        (identifier))
                      (identifier)
                      (identifier)
                      (string_literal)
                      (identifier))
                    (assignment_statement
                      (identifier)
                      (assignment_operator)
                      (identifier)))))))
          (display_statement
            (array_access
              (identifier)
              (identifier))
            (frame_phrase
              (identifier)))))))
  (overlay_statement
    (identifier)
    (number_literal)
    (unary_expression
      (number_literal))
    (string_literal)
    (identifier))
  (overlay_statement
    (identifier)
    (number_literal)
    (number_literal)
    (string_literal)
    (string_literal)))
